<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>server-vainilla-html-apache</title>
  <link rel="stylesheet" href="css/main.css">
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script>
    let a1, a2
    const body = location.href.substring(location.href.indexOf('?')+1)
    a1 = body.substring(2, body.indexOf('&'))
    a2 = body.substring(body.indexOf('&')+3)
    let before = -1
    function check(idx) {
      const list_group = document.getElementById('list-group').children
      if(before === -1) {
        list_group[idx].classList.add('active')
        before = idx
      }
      else {
        list_group[before].classList.remove('active')
        list_group[idx].classList.add('active')
        before = idx
      }
    }
    function submit() {
      if(before === -1) {
        alert('정답을 선택 해 주세요')
        return
      }
      const form = document.createElement("form");
      form.setAttribute("charset", "UTF-8");
      form.setAttribute("method", "GET");  //Post 방식
      form.setAttribute("action", "result.html"); //요청 보낼 주소

      const hiddenField_1 = document.createElement("input");
      hiddenField_1.setAttribute("type", "hidden");
      hiddenField_1.setAttribute("name", "a");
      hiddenField_1.setAttribute("value", a1);
      const hiddenField_2 = document.createElement("input");
      hiddenField_2.setAttribute("type", "hidden");
      hiddenField_2.setAttribute("name", "a");
      hiddenField_2.setAttribute("value", a2);
      const hiddenField_3 = document.createElement("input");
      hiddenField_3.setAttribute("type", "hidden");
      hiddenField_3.setAttribute("name", "a");
      hiddenField_3.setAttribute("value", before);
      form.appendChild(hiddenField_1);
      form.appendChild(hiddenField_2);
      form.appendChild(hiddenField_3);

      document.body.appendChild(form);
      form.submit();
    }
  </script>
</head>
<body>
<script>
</script>
<main class="px-3 d-flex">
  <div class="card">
    <img src="./img/marilyn.jpg" class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">이름이 뭘까요</h5>
    </div>
    <ul id="list-group" class="list-group list-group-flush">
      <li class="list-group-item" onclick="check(0)">Marilyn</li>
      <li class="list-group-item" onclick="check(1)">마를린</li>
      <li class="list-group-item" onclick="check(2)">점박이</li>
    </ul>
    <div class="card-body">
      <input type="button" onclick="submit()" class="btn btn-primary" value="넘어가기">
    </div>
  </div>
</main>
<footer class="mt-auto text-white-50">
  <p>Cover template for <a href="https://getbootstrap.com/" class="text-white">Bootstrap</a>, by <a href="https://twitter.com/mdo" class="text-white">@mdo</a>.</p>
</footer>
<!-- Bootstrap js CDN-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

</body>
</html>
